local DiscordLib = {}
local UserInputService = game:GetService("UserInputService")
local TweenService = game:GetService("TweenService")
local RunService = game:GetService("RunService")
local LocalPlayer = game:GetService("Players").LocalPlayer
local Mouse = LocalPlayer:GetMouse()
local HttpService = game:GetService("HttpService")

-- Mobile detection
local isMobile = UserInputService.TouchEnabled and not UserInputService.KeyboardEnabled

local pfp
local user
local tag
local userinfo = {}

-- Theme System
local ThemeManager = {
	Themes = {},
	CurrentTheme = "Discord",
	CustomThemes = {}
}

-- Default Themes
ThemeManager.Themes.Discord = {
	-- Main Colors
	Primary = Color3.fromRGB(114, 137, 228),
	Secondary = Color3.fromRGB(88, 101, 242),
	Background = Color3.fromRGB(54, 57, 63),
	Sidebar = Color3.fromRGB(47, 49, 54),
	Topbar = Color3.fromRGB(32, 34, 37),
	
	-- Text Colors
	TextPrimary = Color3.fromRGB(255, 255, 255),
	TextSecondary = Color3.fromRGB(127, 131, 137),
	TextTertiary = Color3.fromRGB(99, 102, 109),
	
	-- Element Colors
	ElementBackground = Color3.fromRGB(48, 51, 57),
	ElementBorder = Color3.fromRGB(37, 40, 43),
	ElementHover = Color3.fromRGB(52, 55, 60),
	ElementActive = Color3.fromRGB(57, 60, 67),
	
	-- Accent Colors
	Success = Color3.fromRGB(67, 181, 129),
	Warning = Color3.fromRGB(250, 166, 26),
	Error = Color3.fromRGB(240, 71, 71),
	
	-- Font
	Font = Enum.Font.Gotham,
	BoldFont = Enum.Font.GothamSemibold,
	BlackFont = Enum.Font.GothamBlack
}

ThemeManager.Themes.Dark = {
	Primary = Color3.fromRGB(100, 100, 255),
	Secondary = Color3.fromRGB(80, 80, 200),
	Background = Color3.fromRGB(25, 25, 35),
	Sidebar = Color3.fromRGB(20, 20, 30),
	Topbar = Color3.fromRGB(15, 15, 25),
	TextPrimary = Color3.fromRGB(240, 240, 250),
	TextSecondary = Color3.fromRGB(150, 150, 170),
	TextTertiary = Color3.fromRGB(100, 100, 120),
	ElementBackground = Color3.fromRGB(30, 30, 40),
	ElementBorder = Color3.fromRGB(20, 20, 30),
	ElementHover = Color3.fromRGB(35, 35, 45),
	ElementActive = Color3.fromRGB(40, 40, 50),
	Success = Color3.fromRGB(50, 200, 100),
	Warning = Color3.fromRGB(255, 180, 50),
	Error = Color3.fromRGB(255, 80, 80),
	Font = Enum.Font.Gotham,
	BoldFont = Enum.Font.GothamSemibold,
	BlackFont = Enum.Font.GothamBlack
}

ThemeManager.Themes.Light = {
	Primary = Color3.fromRGB(88, 101, 242),
	Secondary = Color3.fromRGB(114, 137, 228),
	Background = Color3.fromRGB(255, 255, 255),
	Sidebar = Color3.fromRGB(242, 243, 245),
	Topbar = Color3.fromRGB(249, 249, 249),
	TextPrimary = Color3.fromRGB(6, 6, 7),
	TextSecondary = Color3.fromRGB(79, 84, 92),
	TextTertiary = Color3.fromRGB(114, 118, 125),
	ElementBackground = Color3.fromRGB(255, 255, 255),
	ElementBorder = Color3.fromRGB(227, 229, 232),
	ElementHover = Color3.fromRGB(237, 239, 241),
	ElementActive = Color3.fromRGB(220, 221, 222),
	Success = Color3.fromRGB(59, 165, 93),
	Warning = Color3.fromRGB(250, 166, 26),
	Error = Color3.fromRGB(237, 66, 69),
	Font = Enum.Font.Gotham,
	BoldFont = Enum.Font.GothamSemibold,
	BlackFont = Enum.Font.GothamBlack
}

function ThemeManager:GetTheme(name)
	return self.Themes[name or self.CurrentTheme] or self.Themes.Discord
end

function ThemeManager:SetTheme(name)
	if self.Themes[name] then
		self.CurrentTheme = name
		return true
	end
	return false
end

function ThemeManager:CreateTheme(name, themeData)
	self.Themes[name] = themeData
	self.CustomThemes[name] = true
end

-- Asset URL Handler
local function ProcessAssetURL(url)
	if not url or url == "" then
		return ""
	end
	
	-- GitHub raw URLs
	if url:match("github%.com") and not url:match("raw%.githubusercontent%.com") then
		url = url:gsub("github%.com", "raw.githubusercontent.com")
		url = url:gsub("/blob/", "/")
	end
	
	-- Imgur direct links
	if url:match("imgur%.com") and not url:match("i%.imgur%.com") then
		local imgurId = url:match("imgur%.com/(%w+)")
		if imgurId then
			url = "https://i.imgur.com/" .. imgurId .. ".png"
		end
	end
	
	-- Roblox asset IDs
	if url:match("^%d+$") then
		url = "rbxassetid://" .. url
	elseif not url:match("^rbxassetid://") and not url:match("^http") then
		url = "rbxassetid://" .. url
	end
	
	return url
end

pcall(function()
	userinfo = HttpService:JSONDecode(readfile("discordlibinfo.txt"));
end)

pfp = userinfo["pfp"] or "https://www.roblox.com/headshot-thumbnail/image?userId=".. game.Players.LocalPlayer.UserId .."&width=420&height=420&format=png"
user = userinfo["user"] or game.Players.LocalPlayer.Name
tag = userinfo["tag"] or tostring(math.random(1000,9999))

local function SaveInfo()
	userinfo["pfp"] = pfp
	userinfo["user"] = user
	userinfo["tag"] = tag
	writefile("discordlibinfo.txt", HttpService:JSONEncode(userinfo));
end

-- Enhanced draggable function with touch support
local function MakeDraggable(topbarobject, object)
	local Dragging = nil
	local DragInput = nil
	local DragStart = nil
	local StartPosition = nil

	local function Update(input)
		local Delta = input.Position - DragStart
		local pos = UDim2.new(
			StartPosition.X.Scale,
			StartPosition.X.Offset + Delta.X,
			StartPosition.Y.Scale,
			StartPosition.Y.Offset + Delta.Y
		)
		object.Position = pos
	end

	topbarobject.InputBegan:Connect(function(input)
		if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
			Dragging = true
			DragStart = input.Position
			StartPosition = object.Position

			input.Changed:Connect(function()
				if input.UserInputState == Enum.UserInputState.End then
					Dragging = false
				end
			end)
		end
	end)

	topbarobject.InputChanged:Connect(function(input)
		if input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch then
			DragInput = input
		end
	end)

	UserInputService.InputChanged:Connect(function(input)
		if input == DragInput and Dragging then
			Update(input)
		end
	end)
end

local Discord = Instance.new("ScreenGui")
Discord.Name = "Discord"
Discord.Parent = game.CoreGui
Discord.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
Discord.ResetOnSpawn = false

-- Mobile adjustments
if isMobile then
	Discord.IgnoreGuiInset = true
end

function DiscordLib:Window(text)
	local currentservertoggled = ""
	local minimized = false
	local fs = false
	local settingsopened = false
	
	-- Adjust sizes for mobile
	local windowWidth = isMobile and 340 or 681
	local windowHeight = isMobile and 500 or 396
	
	local MainFrame = Instance.new("Frame")
	local TopFrame = Instance.new("Frame")
	local Title = Instance.new("TextLabel")
	local CloseBtn = Instance.new("TextButton")
	local CloseIcon = Instance.new("ImageLabel")
	local MinimizeBtn = Instance.new("TextButton")
	local MinimizeIcon = Instance.new("ImageLabel")
	local ServersHolder = Instance.new("Folder")
	local Userpad = Instance.new("Frame")
	local UserIcon = Instance.new("Frame")
	local UserIconCorner = Instance.new("UICorner")
	local UserImage = Instance.new("ImageLabel")
	local UserCircleImage = Instance.new("ImageLabel")
	local UserName = Instance.new("TextLabel")
	local UserTag = Instance.new("TextLabel")
	local ServersHoldFrame = Instance.new("Frame")
	local ServersHold = Instance.new("ScrollingFrame")
	local ServersHoldLayout = Instance.new("UIListLayout")
	local ServersHoldPadding = Instance.new("UIPadding")
	local TopFrameHolder = Instance.new("Frame")

	MainFrame.Name = "MainFrame"
	MainFrame.Parent = Discord
	MainFrame.AnchorPoint = Vector2.new(0.5, 0.5)
	MainFrame.BackgroundColor3 = Color3.fromRGB(32, 34, 37)
	MainFrame.BorderSizePixel = 0
	MainFrame.ClipsDescendants = true
	MainFrame.Position = UDim2.new(0.5, 0, 0.5, 0)
	MainFrame.Size = UDim2.new(0, windowWidth, 0, windowHeight)

	-- Mobile: Make frame responsive to screen size
	if isMobile then
		local screenSize = workspace.CurrentCamera.ViewportSize
		local scaleX = math.min(screenSize.X / windowWidth, 1) * 0.95
		local scaleY = math.min(screenSize.Y / windowHeight, 1) * 0.95
		local scale = math.min(scaleX, scaleY)
		MainFrame.Size = UDim2.new(0, windowWidth * scale, 0, windowHeight * scale)
	end

	TopFrame.Name = "TopFrame"
	TopFrame.Parent = MainFrame
	TopFrame.BackgroundColor3 = Color3.fromRGB(32, 34, 37)
	TopFrame.BackgroundTransparency = 1.000
	TopFrame.BorderSizePixel = 0
	TopFrame.Position = UDim2.new(-0.000658480625, 0, 0, 0)
	TopFrame.Size = UDim2.new(1, 0, 0, 22)
	
	TopFrameHolder.Name = "TopFrameHolder"
	TopFrameHolder.Parent = TopFrame
	TopFrameHolder.BackgroundColor3 = Color3.fromRGB(32, 34, 37)
	TopFrameHolder.BackgroundTransparency = 1.000
	TopFrameHolder.BorderSizePixel = 0
	TopFrameHolder.Position = UDim2.new(0, 0, 0, 0)
	TopFrameHolder.Size = UDim2.new(1, 0, 0, 22)

	Title.Name = "Title"
	Title.Parent = TopFrame
	Title.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
	Title.BackgroundTransparency = 1.000
	Title.Position = UDim2.new(0.02, 0, 0, 0)
	Title.Size = UDim2.new(0, 150, 0, 23)
	Title.Font = Enum.Font.Gotham
	Title.Text = text
	Title.TextColor3 = Color3.fromRGB(99, 102, 109)
	Title.TextSize = isMobile and 11 or 13
	Title.TextXAlignment = Enum.TextXAlignment.Left
	Title.TextScaled = isMobile

	CloseBtn.Name = "CloseBtn"
	CloseBtn.Parent = TopFrame
	CloseBtn.BackgroundColor3 = Color3.fromRGB(32, 34, 37)
	CloseBtn.BackgroundTransparency = 0
	CloseBtn.Position = UDim2.new(0.92, 0, 0, 0)
	CloseBtn.Size = UDim2.new(0, isMobile and 35 or 28, 0, 22)
	CloseBtn.Font = Enum.Font.Gotham
	CloseBtn.Text = ""
	CloseBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
	CloseBtn.TextSize = 14.000
	CloseBtn.BorderSizePixel = 0
	CloseBtn.AutoButtonColor = false

	CloseIcon.Name = "CloseIcon"
	CloseIcon.Parent = CloseBtn
	CloseIcon.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
	CloseIcon.BackgroundTransparency = 1.000
	CloseIcon.Position = UDim2.new(0.189182192, 0, 0.128935531, 0)
	CloseIcon.Size = UDim2.new(0, 17, 0, 17)
	CloseIcon.Image = "http://www.roblox.com/asset/?id=6035047409"
	CloseIcon.ImageColor3 = Color3.fromRGB(220, 221, 222)

	MinimizeBtn.Name = "MinimizeButton"
	MinimizeBtn.Parent = TopFrame
	MinimizeBtn.BackgroundColor3 = Color3.fromRGB(32, 34, 37)
	MinimizeBtn.BackgroundTransparency = 0
	MinimizeBtn.Position = UDim2.new(0.84, 0, 0, 0)
	MinimizeBtn.Size = UDim2.new(0, isMobile and 35 or 28, 0, 22)
	MinimizeBtn.Font = Enum.Font.Gotham
	MinimizeBtn.Text = ""
	MinimizeBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
	MinimizeBtn.TextSize = 14.000
	MinimizeBtn.BorderSizePixel = 0
	MinimizeBtn.AutoButtonColor = false

	MinimizeIcon.Name = "MinimizeLabel"
	MinimizeIcon.Parent = MinimizeBtn
	MinimizeIcon.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
	MinimizeIcon.BackgroundTransparency = 1.000
	MinimizeIcon.Position = UDim2.new(0.189182192, 0, 0.128935531, 0)
	MinimizeIcon.Size = UDim2.new(0, 17, 0, 17)
	MinimizeIcon.Image = "http://www.roblox.com/asset/?id=6035067836"
	MinimizeIcon.ImageColor3 = Color3.fromRGB(220, 221, 222)

	ServersHolder.Name = "ServersHolder"
	ServersHolder.Parent = TopFrameHolder

	-- Mobile: Adjust user pad size and position
	local userPadWidth = isMobile and 150 or 179
	local userPadHeight = isMobile and 38 or 43
	
	Userpad.Name = "Userpad"
	Userpad.Parent = TopFrameHolder
	Userpad.BackgroundColor3 = Color3.fromRGB(41, 43, 47)
	Userpad.BorderSizePixel = 0
	Userpad.Position = UDim2.new(0.11, 0, isMobile and 12 or 15.9, 0)
	Userpad.Size = UDim2.new(0, userPadWidth, 0, userPadHeight)

	local iconSize = isMobile and 28 or 32
	
	UserIcon.Name = "UserIcon"
	UserIcon.Parent = Userpad
	UserIcon.BackgroundColor3 = Color3.fromRGB(31, 33, 36)
	UserIcon.BorderSizePixel = 0
	UserIcon.Position = UDim2.new(0.034, 0, 0.124, 0)
	UserIcon.Size = UDim2.new(0, iconSize, 0, iconSize)

	UserIconCorner.CornerRadius = UDim.new(1, 8)
	UserIconCorner.Name = "UserIconCorner"
	UserIconCorner.Parent = UserIcon

	UserImage.Name = "UserImage"
	UserImage.Parent = UserIcon
	UserImage.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
	UserImage.BackgroundTransparency = 1.000
	UserImage.Size = UDim2.new(1, 0, 1, 0)
	UserImage.Image = pfp 
	
	UserCircleImage.Name = "UserImage"
	UserCircleImage.Parent = UserImage
	UserCircleImage.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
	UserCircleImage.BackgroundTransparency = 1.000
	UserCircleImage.Size = UDim2.new(1, 0, 1, 0)
	UserCircleImage.Image = "rbxassetid://4031889928"
	UserCircleImage.ImageColor3 = Color3.fromRGB(41, 43, 47)
	
	UserName.Name = "UserName"
	UserName.Parent = Userpad
	UserName.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
	UserName.BackgroundTransparency = 1.000
	UserName.BorderSizePixel = 0
	UserName.Position = UDim2.new(0.23, 0, 0.116, 0)
	UserName.Size = UDim2.new(0, 80, 0, 17)
	UserName.Font = Enum.Font.GothamSemibold
	UserName.TextColor3 = Color3.fromRGB(255, 255, 255)
	UserName.TextSize = isMobile and 11 or 13
	UserName.TextXAlignment = Enum.TextXAlignment.Left
	UserName.ClipsDescendants = true
	UserName.TextScaled = isMobile

	UserTag.Name = "UserTag"
	UserTag.Parent = Userpad
	UserTag.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
	UserTag.BackgroundTransparency = 1.000
	UserTag.BorderSizePixel = 0
	UserTag.Position = UDim2.new(0.23, 0, 0.455, 0)
	UserTag.Size = UDim2.new(0, 75, 0, 17)
	UserTag.Font = Enum.Font.Gotham
	UserTag.TextColor3 = Color3.fromRGB(255, 255, 255)
	UserTag.TextSize = isMobile and 10 or 13
	UserTag.TextTransparency = 0.300
	UserTag.TextXAlignment = Enum.TextXAlignment.Left
	UserTag.TextScaled = isMobile
	
	UserName.Text = user
	UserTag.Text = "#" .. tag

	-- Mobile: Adjust server holder
	local serverHoldWidth = isMobile and 55 or 71
	
	ServersHoldFrame.Name = "ServersHoldFrame"
	ServersHoldFrame.Parent = MainFrame
	ServersHoldFrame.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
	ServersHoldFrame.BackgroundTransparency = 1.000
	ServersHoldFrame.BorderColor3 = Color3.fromRGB(27, 42, 53)
	ServersHoldFrame.Size = UDim2.new(0, serverHoldWidth, 1, 0)

	ServersHold.Name = "ServersHold"
	ServersHold.Parent = ServersHoldFrame
	ServersHold.Active = true
	ServersHold.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
	ServersHold.BackgroundTransparency = 1.000
	ServersHold.BorderSizePixel = 0
	ServersHold.Position = UDim2.new(0, 0, 0.058, 0)
	ServersHold.Size = UDim2.new(1, 0, 0.942, 0)
	ServersHold.ScrollBarThickness = isMobile and 3 or 1
	ServersHold.ScrollBarImageTransparency = 1
	ServersHold.CanvasSize = UDim2.new(0, 0, 0, 0)

	ServersHoldLayout.Name = "ServersHoldLayout"
	ServersHoldLayout.Parent = ServersHold
	ServersHoldLayout.SortOrder = Enum.SortOrder.LayoutOrder
	ServersHoldLayout.Padding = UDim.new(0, isMobile and 5 or 7)

	ServersHoldPadding.Name = "ServersHoldPadding"
	ServersHoldPadding.Parent = ServersHold
	ServersHoldPadding.PaddingLeft = UDim.new(0, isMobile and 10 or 14)

	CloseBtn.MouseButton1Click:Connect(function()
		MainFrame:TweenSize(UDim2.new(0, 0, 0, 0), Enum.EasingDirection.Out, Enum.EasingStyle.Quart, .3, true)
	end)

	CloseBtn.MouseEnter:Connect(function()
		CloseBtn.BackgroundColor3 = Color3.fromRGB(240, 71, 71)
	end)

	CloseBtn.MouseLeave:Connect(function()
		CloseBtn.BackgroundColor3 = Color3.fromRGB(32, 34, 37)
	end)

	MinimizeBtn.MouseEnter:Connect(function()
		MinimizeBtn.BackgroundColor3 = Color3.fromRGB(40, 43, 46)
	end)

	MinimizeBtn.MouseLeave:Connect(function()
		MinimizeBtn.BackgroundColor3 = Color3.fromRGB(32, 34, 37)
	end)

	MinimizeBtn.MouseButton1Click:Connect(function()
		if minimized == false then
			MainFrame:TweenSize(UDim2.new(0, windowWidth, 0, 22), Enum.EasingDirection.Out, Enum.EasingStyle.Quart, .3, true)
		else
			MainFrame:TweenSize(UDim2.new(0, windowWidth, 0, windowHeight), Enum.EasingDirection.Out, Enum.EasingStyle.Quart, .3, true)
		end
		minimized = not minimized
	end)
	
	-- Settings button (rest of implementation continues with mobile adjustments...)
	local SettingsOpenBtn = Instance.new("TextButton")
	local SettingsOpenBtnIco = Instance.new("ImageLabel")
	
	SettingsOpenBtn.Name = "SettingsOpenBtn"
	SettingsOpenBtn.Parent = Userpad
	SettingsOpenBtn.BackgroundColor3 = Color3.fromRGB(53, 56, 62)
	SettingsOpenBtn.BackgroundTransparency = 1.000
	SettingsOpenBtn.Position = UDim2.new(0.82, 0, 0.28, 0)
	SettingsOpenBtn.Size = UDim2.new(0, isMobile and 16 or 18, 0, isMobile and 16 or 18)
	SettingsOpenBtn.Font = Enum.Font.SourceSans
	SettingsOpenBtn.Text = ""
	SettingsOpenBtn.TextColor3 = Color3.fromRGB(0, 0, 0)
	SettingsOpenBtn.TextSize = 14.000

	SettingsOpenBtnIco.Name = "SettingsOpenBtnIco"
	SettingsOpenBtnIco.Parent = SettingsOpenBtn
	SettingsOpenBtnIco.BackgroundColor3 = Color3.fromRGB(220, 220, 220)
	SettingsOpenBtnIco.BackgroundTransparency = 1.000
	SettingsOpenBtnIco.Size = UDim2.new(1, 0, 1, 0)
	SettingsOpenBtnIco.Image = "http://www.roblox.com/asset/?id=6031280882"
	SettingsOpenBtnIco.ImageColor3 = Color3.fromRGB(220, 220, 220)

	-- Notification function with mobile support
	function DiscordLib:Notification(titletext, desctext, btntext)
		local NotificationHolderMain = Instance.new("TextButton")
		local Notification = Instance.new("Frame")
		local NotificationCorner = Instance.new("UICorner")
		local UnderBar = Instance.new("Frame")
		local UnderBarCorner = Instance.new("UICorner")
		local UnderBarFrame = Instance.new("Frame")
		local Text1 = Instance.new("TextLabel")
		local Text2 = Instance.new("TextLabel")
		local AlrightBtn = Instance.new("TextButton")
		local AlrightCorner = Instance.new("UICorner")

		NotificationHolderMain.Name = "NotificationHolderMain"
		NotificationHolderMain.Parent = MainFrame
		NotificationHolderMain.BackgroundColor3 = Color3.fromRGB(22, 22, 22)
		NotificationHolderMain.BackgroundTransparency = 1
		NotificationHolderMain.BorderSizePixel = 0
		NotificationHolderMain.Position = UDim2.new(0, 0, 0.056, 0)
		NotificationHolderMain.Size = UDim2.new(1, 0, 0.944, 0)
		NotificationHolderMain.AutoButtonColor = false
		NotificationHolderMain.Font = Enum.Font.SourceSans
		NotificationHolderMain.Text = ""
		NotificationHolderMain.TextColor3 = Color3.fromRGB(0, 0, 0)
		NotificationHolderMain.TextSize = 14.000
		TweenService:Create(NotificationHolderMain, TweenInfo.new(.2, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {BackgroundTransparency = 0.2}):Play()

		local notifWidth = isMobile and 280 or 346
		local notifHeight = isMobile and 150 or 176
		
		Notification.Name = "Notification"
		Notification.Parent = NotificationHolderMain
		Notification.AnchorPoint = Vector2.new(0.5, 0.5)
		Notification.BackgroundColor3 = Color3.fromRGB(54, 57, 63)
		Notification.ClipsDescendants = true
		Notification.Position = UDim2.new(0.5, 0, 0.5, 0)
		Notification.Size = UDim2.new(0, 0, 0, 0)
		Notification.BackgroundTransparency = 1
		
		Notification:TweenSize(UDim2.new(0, notifWidth, 0, notifHeight), Enum.EasingDirection.Out, Enum.EasingStyle.Quart, .2, true)
		TweenService:Create(Notification, TweenInfo.new(.2, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {BackgroundTransparency = 0}):Play()

		NotificationCorner.CornerRadius = UDim.new(0, 5)
		NotificationCorner.Parent = Notification

		UnderBar.Name = "UnderBar"
		UnderBar.Parent = Notification
		UnderBar.BackgroundColor3 = Color3.fromRGB(47, 49, 54)
		UnderBar.Position = UDim2.new(0, 0, 0.945, 0)
		UnderBar.Size = UDim2.new(1, 0, 0, 10)

		UnderBarCorner.CornerRadius = UDim.new(0, 5)
		UnderBarCorner.Parent = UnderBar

		UnderBarFrame.Parent = UnderBar
		UnderBarFrame.BackgroundColor3 = Color3.fromRGB(47, 49, 54)
		UnderBarFrame.BorderSizePixel = 0
		UnderBarFrame.Position = UDim2.new(0, 0, -3.76, 0)
		UnderBarFrame.Size = UDim2.new(1, 0, 0, 40)

		Text1.Parent = Notification
		Text1.BackgroundTransparency = 1
		Text1.Position = UDim2.new(0, 0, 0.02, 0)
		Text1.Size = UDim2.new(1, 0, 0, isMobile and 50 or 68)
		Text1.Font = Enum.Font.GothamSemibold
		Text1.Text = titletext
		Text1.TextColor3 = Color3.fromRGB(255, 255, 255)
		Text1.TextSize = isMobile and 16 or 20
		Text1.TextScaled = isMobile

		Text2.Parent = Notification
		Text2.BackgroundTransparency = 1
		Text2.Position = UDim2.new(0.05, 0, isMobile and 0.25 or 0.317, 0)
		Text2.Size = UDim2.new(0.9, 0, 0, isMobile and 50 or 63)
		Text2.Font = Enum.Font.Gotham
		Text2.Text = desctext
		Text2.TextColor3 = Color3.fromRGB(171, 172, 176)
		Text2.TextSize = isMobile and 12 or 14
		Text2.TextWrapped = true
		Text2.TextScaled = isMobile

		AlrightBtn.Parent = Notification
		AlrightBtn.BackgroundColor3 = Color3.fromRGB(114, 137, 228)
		AlrightBtn.Position = UDim2.new(0.033, 0, isMobile and 0.72 or 0.789, 0)
		AlrightBtn.Size = UDim2.new(0.934, 0, 0, isMobile and 32 or 27)
		AlrightBtn.Font = Enum.Font.Gotham
		AlrightBtn.Text = btntext
		AlrightBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
		AlrightBtn.TextSize = isMobile and 12 or 13
		AlrightBtn.AutoButtonColor = false
		
		AlrightCorner.CornerRadius = UDim.new(0, 4)
		AlrightCorner.Parent = AlrightBtn
		
		AlrightBtn.MouseButton1Click:Connect(function()
			TweenService:Create(NotificationHolderMain, TweenInfo.new(.2, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {BackgroundTransparency = 1}):Play()
			Notification:TweenSize(UDim2.new(0, 0, 0, 0), Enum.EasingDirection.Out, Enum.EasingStyle.Quart, .2, true)
			TweenService:Create(Notification, TweenInfo.new(.2, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {BackgroundTransparency = 1}):Play()
			wait(.2)
			NotificationHolderMain:Destroy()
		end)
		
		AlrightBtn.MouseEnter:Connect(function()
			TweenService:Create(AlrightBtn, TweenInfo.new(.2, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {BackgroundColor3 = Color3.fromRGB(103,123,196)}):Play()
		end)

		AlrightBtn.MouseLeave:Connect(function()
			TweenService:Create(AlrightBtn, TweenInfo.new(.2, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {BackgroundColor3 = Color3.fromRGB(114, 137, 228)}):Play()
		end)
	end

	MakeDraggable(TopFrame, MainFrame)
	
	local ServerHold = {}
	function ServerHold:Server(text, img)
		-- Server implementation with mobile support
		-- (Implementation continues with adjusted sizes for mobile)
		local fc = false
		local currentchanneltoggled = ""
		local serverBtnSize = isMobile and 40 or 47
		
		local Server = Instance.new("TextButton")
		local ServerBtnCorner = Instance.new("UICorner")
		local ServerIco = Instance.new("ImageLabel")
		local ServerWhiteFrame = Instance.new("Frame")
		local ServerWhiteFrameCorner = Instance.new("UICorner")

		Server.Name = text .. "Server"
		Server.Parent = ServersHold
		Server.BackgroundColor3 = Color3.fromRGB(47, 49, 54)
		Server.Size = UDim2.new(0, serverBtnSize, 0, serverBtnSize)
		Server.AutoButtonColor = false
		Server.Font = Enum.Font.Gotham
		Server.Text = ""
		Server.TextColor3 = Color3.fromRGB(255, 255, 255)
		Server.TextSize = isMobile and 15 or 18

		ServerBtnCorner.CornerRadius = UDim.new(1, 0)
		ServerBtnCorner.Name = "ServerCorner"
		ServerBtnCorner.Parent = Server

		ServerIco.Name = "ServerIco"
		ServerIco.Parent = Server
		ServerIco.AnchorPoint = Vector2.new(0.5, 0.5)
		ServerIco.BackgroundTransparency = 1
		ServerIco.Position = UDim2.new(0.5, 0, 0.5, 0)
		ServerIco.Size = UDim2.new(0, isMobile and 22 or 26, 0, isMobile and 22 or 26)
		ServerIco.Image = ""

		ServerWhiteFrame.Name = "ServerWhiteFrame"
		ServerWhiteFrame.Parent = Server
		ServerWhiteFrame.AnchorPoint = Vector2.new(0.5, 0.5)
		ServerWhiteFrame.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
		ServerWhiteFrame.Position = UDim2.new(-0.347, 0, 0.503, 0)
		ServerWhiteFrame.Size = UDim2.new(0, isMobile and 9 or 11, 0, 10)

		ServerWhiteFrameCorner.CornerRadius = UDim.new(1, 0)
		ServerWhiteFrameCorner.Parent = ServerWhiteFrame
		
		ServersHold.CanvasSize = UDim2.new(0, 0, 0, ServersHoldLayout.AbsoluteContentSize.Y)

		-- Server Frame with mobile adjustments
		local ServerFrame = Instance.new("Frame")
		local ServerFrame1 = Instance.new("Frame")
		local ServerFrame2 = Instance.new("Frame")
		local ServerTitleFrame = Instance.new("Frame")
		local ServerTitle = Instance.new("TextLabel")
		local GlowFrame = Instance.new("Frame")
		local Glow = Instance.new("ImageLabel")
		local ServerContentFrame = Instance.new("Frame")
		local ServerCorner = Instance.new("UICorner")
		local ChannelTitleFrame = Instance.new("Frame")
		local Hashtag = Instance.new("TextLabel")
		local ChannelTitle = Instance.new("TextLabel")
		local ChannelContentFrame = Instance.new("Frame")
		local GlowChannel = Instance.new("ImageLabel")
		local ServerChannelHolder = Instance.new("ScrollingFrame")
		local ServerChannelHolderLayout = Instance.new("UIListLayout")
		local ServerChannelHolderPadding = Instance.new("UIPadding")

		local serverFrameWidth = isMobile and (windowWidth - serverHoldWidth) or 609
		local contentWidth = isMobile and 140 or 180
		local channelWidth = isMobile and (serverFrameWidth - contentWidth) or 429

		ServerFrame.Name = "ServerFrame"
		ServerFrame.Parent = ServersHolder
		ServerFrame.BackgroundColor3 = Color3.fromRGB(47, 49, 54)
		ServerFrame.BorderSizePixel = 0
		ServerFrame.ClipsDescendants = true
		ServerFrame.Position = UDim2.new(0.106, 0, 1.013, 0)
		ServerFrame.Size = UDim2.new(0, serverFrameWidth, 1, -23)
		ServerFrame.Visible = false

		ServerFrame1.Name = "ServerFrame1"
		ServerFrame1.Parent = ServerFrame
		ServerFrame1.BackgroundColor3 = Color3.fromRGB(47, 49, 54)
		ServerFrame1.BorderSizePixel = 0
		ServerFrame1.Position = UDim2.new(0, 0, 0.972, 0)
		ServerFrame1.Size = UDim2.new(0, 12, 0, 10)

		ServerFrame2.Name = "ServerFrame2"
		ServerFrame2.Parent = ServerFrame
		ServerFrame2.BackgroundColor3 = Color3.fromRGB(47, 49, 54)
		ServerFrame2.BorderSizePixel = 0
		ServerFrame2.Position = UDim2.new(0.98, 0, 0.972, 0)
		ServerFrame2.Size = UDim2.new(0, 12, 0, 9)

		ServerTitleFrame.Name = "ServerTitleFrame"
		ServerTitleFrame.Parent = ServerFrame
		ServerTitleFrame.BackgroundColor3 = Color3.fromRGB(47, 49, 54)
		ServerTitleFrame.BackgroundTransparency = 1.000
		ServerTitleFrame.BorderSizePixel = 0
		ServerTitleFrame.Size = UDim2.new(0, contentWidth, 0, 40)

		ServerTitle.Name = "ServerTitle"
		ServerTitle.Parent = ServerTitleFrame
		ServerTitle.BackgroundTransparency = 1.000
		ServerTitle.Position = UDim2.new(0.075, 0, 0, 0)
		ServerTitle.Size = UDim2.new(0.8, 0, 1, 0)
		ServerTitle.Font = Enum.Font.GothamSemibold
		ServerTitle.Text = text
		ServerTitle.TextColor3 = Color3.fromRGB(255, 255, 255)
		ServerTitle.TextSize = isMobile and 12 or 15
		ServerTitle.TextXAlignment = Enum.TextXAlignment.Left
		ServerTitle.TextScaled = isMobile

		-- Banner Frame
		local BannerFrame = Instance.new("Frame")
		local BannerImage = Instance.new("ImageLabel")
		local BannerCorner = Instance.new("UICorner")
		local BannerGradient = Instance.new("UIGradient")
		local BannerOverlay = Instance.new("Frame")
		local BannerOverlayCorner = Instance.new("UICorner")
		
		BannerFrame.Name = "BannerFrame"
		BannerFrame.Parent = ServerContentFrame
		BannerFrame.BackgroundColor3 = Color3.fromRGB(47, 49, 54)
		BannerFrame.Position = UDim2.new(0.05, 0, 0.02, 0)
		BannerFrame.Size = UDim2.new(0.9, 0, 0, isMobile and 60 or 80)
		BannerFrame.ClipsDescendants = true
		
		BannerCorner.CornerRadius = UDim.new(0, 8)
		BannerCorner.Parent = BannerFrame
		
		BannerImage.Name = "BannerImage"
		BannerImage.Parent = BannerFrame
		BannerImage.BackgroundColor3 = Color3.fromRGB(114, 137, 228)
		BannerImage.BackgroundTransparency = 0
		BannerImage.Size = UDim2.new(1, 0, 1, 0)
		BannerImage.Image = ""
		BannerImage.ScaleType = Enum.ScaleType.Crop
		
		BannerGradient.Color = ColorSequence.new{
			ColorSequenceKeypoint.new(0, Color3.fromRGB(114, 137, 228)),
			ColorSequenceKeypoint.new(1, Color3.fromRGB(88, 101, 242))
		}
		BannerGradient.Rotation = 45
		BannerGradient.Parent = BannerImage
		
		BannerOverlay.Name = "BannerOverlay"
		BannerOverlay.Parent = BannerFrame
		BannerOverlay.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
		BannerOverlay.BackgroundTransparency = 0.3
		BannerOverlay.Size = UDim2.new(1, 0, 1, 0)
		
		BannerOverlayCorner.CornerRadius = UDim.new(0, 8)
		BannerOverlayCorner.Parent = BannerOverlay

		GlowFrame.Name = "GlowFrame"
		GlowFrame.Parent = ServerFrame
		GlowFrame.BackgroundTransparency = 1.000
		GlowFrame.Size = UDim2.new(1, 0, 0, 40)

		Glow.Name = "Glow"
		Glow.Parent = GlowFrame
		Glow.BackgroundTransparency = 1.000
		Glow.Position = UDim2.new(0, -15, 0, -15)
		Glow.Size = UDim2.new(1, 30, 1, 30)
		Glow.ZIndex = 0
		Glow.Image = "rbxassetid://4996891970"
		Glow.ImageColor3 = Color3.fromRGB(15, 15, 15)
		Glow.ScaleType = Enum.ScaleType.Slice
		Glow.SliceCenter = Rect.new(20, 20, 280, 280)

		ServerContentFrame.Name = "ServerContentFrame"
		ServerContentFrame.Parent = ServerFrame
		ServerContentFrame.BackgroundTransparency = 1.000
		ServerContentFrame.Position = UDim2.new(0, 0, 0.106, 0)
		ServerContentFrame.Size = UDim2.new(0, contentWidth, 0.894, 0)

		ServerCorner.CornerRadius = UDim.new(0, 9)
		ServerCorner.Parent = ServerFrame

		ChannelTitleFrame.Name = "ChannelTitleFrame"
		ChannelTitleFrame.Parent = ServerFrame
		ChannelTitleFrame.BackgroundColor3 = Color3.fromRGB(54, 57, 63)
		ChannelTitleFrame.BorderSizePixel = 0
		ChannelTitleFrame.Position = UDim2.new(0, contentWidth, 0, 0)
		ChannelTitleFrame.Size = UDim2.new(0, channelWidth, 0, 40)

		Hashtag.Name = "Hashtag"
		Hashtag.Parent = ChannelTitleFrame
		Hashtag.BackgroundTransparency = 1.000
		Hashtag.Position = UDim2.new(0.028, 0, 0, 0)
		Hashtag.Size = UDim2.new(0, 19, 0, 39)
		Hashtag.Font = Enum.Font.Gotham
		Hashtag.Text = "#"
		Hashtag.TextColor3 = Color3.fromRGB(114, 118, 125)
		Hashtag.TextSize = isMobile and 20 or 25

		ChannelTitle.Name = "ChannelTitle"
		ChannelTitle.Parent = ChannelTitleFrame
		ChannelTitle.BackgroundTransparency = 1.000
		ChannelTitle.Position = UDim2.new(0.086, 0, 0, 0)
		ChannelTitle.Size = UDim2.new(0.8, 0, 1, 0)
		ChannelTitle.Font = Enum.Font.GothamSemibold
		ChannelTitle.Text = ""
		ChannelTitle.TextColor3 = Color3.fromRGB(255, 255, 255)
		ChannelTitle.TextSize = isMobile and 12 or 15
		ChannelTitle.TextXAlignment = Enum.TextXAlignment.Left
		ChannelTitle.TextScaled = isMobile

		ChannelContentFrame.Name = "ChannelContentFrame"
		ChannelContentFrame.Parent = ServerFrame
		ChannelContentFrame.BackgroundColor3 = Color3.fromRGB(54, 57, 63)
		ChannelContentFrame.BorderSizePixel = 0
		ChannelContentFrame.ClipsDescendants = true
		ChannelContentFrame.Position = UDim2.new(0, contentWidth, 0.106, 0)
		ChannelContentFrame.Size = UDim2.new(0, channelWidth, 0.894, 0)

		GlowChannel.Name = "GlowChannel"
		GlowChannel.Parent = ChannelContentFrame
		GlowChannel.BackgroundTransparency = 1.000
		GlowChannel.Position = UDim2.new(0, -33, 0, -91)
		GlowChannel.Size = UDim2.new(1.064, 30, 0.228, 30)
		GlowChannel.ZIndex = 0
		GlowChannel.Image = "rbxassetid://4996891970"
		GlowChannel.ImageColor3 = Color3.fromRGB(15, 15, 15)
		GlowChannel.ScaleType = Enum.ScaleType.Slice
		GlowChannel.SliceCenter = Rect.new(20, 20, 280, 280)

		ServerChannelHolder.Name = "ServerChannelHolder"
		ServerChannelHolder.Parent = ServerContentFrame
		ServerChannelHolder.Active = true
		ServerChannelHolder.BackgroundTransparency = 1.000
		ServerChannelHolder.Position = UDim2.new(0.005, 0, isMobile and 0.22 or 0.27, 0)
		ServerChannelHolder.Size = UDim2.new(0, contentWidth - 10, isMobile and 0.75 or 0.7, 0)
		ServerChannelHolder.CanvasSize = UDim2.new(0, 0, 0, 0)
		ServerChannelHolder.ScrollBarThickness = isMobile and 3 or 4
		ServerChannelHolder.ScrollBarImageColor3 = Color3.fromRGB(18, 19, 21)
		ServerChannelHolder.ScrollBarImageTransparency = 1

		ServerChannelHolderLayout.Parent = ServerChannelHolder
		ServerChannelHolderLayout.SortOrder = Enum.SortOrder.LayoutOrder
		ServerChannelHolderLayout.Padding = UDim.new(0, 4)

		ServerChannelHolderPadding.Parent = ServerChannelHolder
		ServerChannelHolderPadding.PaddingLeft = UDim.new(0, 9)
		
		-- Touch scrollbar visibility
		if isMobile then
			ServerChannelHolder.ScrollBarImageTransparency = 0
		else
			ServerChannelHolder.MouseEnter:Connect(function()
				ServerChannelHolder.ScrollBarImageTransparency = 0
			end)
			
			ServerChannelHolder.MouseLeave:Connect(function()
				ServerChannelHolder.ScrollBarImageTransparency = 1
			end)
		end

		Server.MouseEnter:Connect(function()
			if currentservertoggled ~= Server.Name then
				TweenService:Create(Server, TweenInfo.new(.2, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {BackgroundColor3 = Color3.fromRGB(114, 137, 228)}):Play()
				TweenService:Create(ServerBtnCorner, TweenInfo.new(.2, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {CornerRadius = UDim.new(0, 15)}):Play()
				ServerWhiteFrame:TweenSize(UDim2.new(0, isMobile and 9 or 11, 0, 27), Enum.EasingDirection.Out, Enum.EasingStyle.Quart, .3, true)
			end
		end)

		Server.MouseLeave:Connect(function()
			if currentservertoggled ~= Server.Name then
				TweenService:Create(Server, TweenInfo.new(.2, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {BackgroundColor3 = Color3.fromRGB(47, 49, 54)}):Play()
				TweenService:Create(ServerBtnCorner, TweenInfo.new(.2, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {CornerRadius = UDim.new(1, 0)}):Play()
				ServerWhiteFrame:TweenSize(UDim2.new(0, isMobile and 9 or 11, 0, 10), Enum.EasingDirection.Out, Enum.EasingStyle.Quart, .3, true)
			end
		end)

		Server.MouseButton1Click:Connect(function()
			currentservertoggled = Server.Name
			for i, v in pairs(ServersHolder:GetChildren()) do
				if v.Name == "ServerFrame" then
					v.Visible = false
				end
			end
			ServerFrame.Visible = true
			
			for i, v in pairs(ServersHold:GetChildren()) do
				if v:IsA("TextButton") then
					TweenService:Create(v, TweenInfo.new(.2, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {BackgroundColor3 = Color3.fromRGB(47, 49, 54)}):Play()
					TweenService:Create(v.ServerCorner, TweenInfo.new(.2, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {CornerRadius = UDim.new(1, 0)}):Play()
					v.ServerWhiteFrame:TweenSize(UDim2.new(0, isMobile and 9 or 11, 0, 10), Enum.EasingDirection.Out, Enum.EasingStyle.Quart, .3, true)
				end
			end
			TweenService:Create(Server, TweenInfo.new(.2, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {BackgroundColor3 = Color3.fromRGB(114, 137, 228)}):Play()
			TweenService:Create(ServerBtnCorner, TweenInfo.new(.2, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {CornerRadius = UDim.new(0, 15)}):Play()
			ServerWhiteFrame:TweenSize(UDim2.new(0, isMobile and 9 or 11, 0, serverBtnSize - 1), Enum.EasingDirection.Out, Enum.EasingStyle.Quart, .3, true)
		end)

		if img == "" then
			Server.Text = string.sub(text, 1, 1)
		else
			ServerIco.Image = img
		end

		if fs == false then
			TweenService:Create(Server, TweenInfo.new(.2, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {BackgroundColor3 = Color3.fromRGB(114, 137, 228)}):Play()
			TweenService:Create(ServerBtnCorner, TweenInfo.new(.2, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {CornerRadius = UDim.new(0, 15)}):Play()
			ServerWhiteFrame:TweenSize(UDim2.new(0, isMobile and 9 or 11, 0, serverBtnSize - 1), Enum.EasingDirection.Out, Enum.EasingStyle.Quart, .3, true)
			ServerFrame.Visible = true
			currentservertoggled = Server.Name
			fs = true
		end
		
		local ServerFunc = {}
		
		function ServerFunc:SetBanner(imageId, color1, color2)
			-- Process asset URL to support GitHub, Imgur, and Roblox assets
			local processedImage = ProcessAssetURL(imageId or "")
			
			if processedImage and processedImage ~= "" then
				BannerImage.Image = processedImage
				BannerGradient.Enabled = false
			else
				BannerImage.Image = ""
				BannerGradient.Enabled = true
			end
			
			if color1 and color2 then
				BannerGradient.Color = ColorSequence.new{
					ColorSequenceKeypoint.new(0, color1),
					ColorSequenceKeypoint.new(1, color2)
				}
				BannerImage.BackgroundColor3 = color1
			elseif color1 then
				BannerImage.BackgroundColor3 = color1
				BannerGradient.Color = ColorSequence.new{
					ColorSequenceKeypoint.new(0, color1),
					ColorSequenceKeypoint.new(1, color1)
				}
			end
		end
		
		function ServerFunc:RemoveBanner()
			BannerFrame.Visible = false
			ServerChannelHolder.Position = UDim2.new(0.005, 0, 0.024, 0)
			ServerChannelHolder.Size = UDim2.new(0, contentWidth - 10, 0.95, 0)
		end
		
		function ServerFunc:ShowBanner()
			BannerFrame.Visible = true
			ServerChannelHolder.Position = UDim2.new(0.005, 0, isMobile and 0.22 or 0.27, 0)
			ServerChannelHolder.Size = UDim2.new(0, contentWidth - 10, isMobile and 0.75 or 0.7, 0)
		end
		
		local ChannelHold = {}
		function ChannelHold:Channel(text)
			local channelBtnWidth = isMobile and 130 or 160
			
			local ChannelBtn = Instance.new("TextButton")
			local ChannelBtnCorner = Instance.new("UICorner")
			local ChannelBtnHashtag = Instance.new("TextLabel")
			local ChannelBtnTitle = Instance.new("TextLabel")

			ChannelBtn.Name = text .. "ChannelBtn"
			ChannelBtn.Parent = ServerChannelHolder
			ChannelBtn.BackgroundColor3 = Color3.fromRGB(47, 49, 54)
			ChannelBtn.Size = UDim2.new(0, channelBtnWidth, 0, isMobile and 28 or 30)
			ChannelBtn.AutoButtonColor = false
			ChannelBtn.Font = Enum.Font.SourceSans
			ChannelBtn.Text = ""

			ChannelBtnCorner.CornerRadius = UDim.new(0, 6)
			ChannelBtnCorner.Parent = ChannelBtn

			ChannelBtnHashtag.Name = "ChannelBtnHashtag"
			ChannelBtnHashtag.Parent = ChannelBtn
			ChannelBtnHashtag.BackgroundTransparency = 1.000
			ChannelBtnHashtag.Position = UDim2.new(0.028, 0, 0, 0)
			ChannelBtnHashtag.Size = UDim2.new(0, 24, 1, 0)
			ChannelBtnHashtag.Font = Enum.Font.Gotham
			ChannelBtnHashtag.Text = "#"
			ChannelBtnHashtag.TextColor3 = Color3.fromRGB(114, 118, 125)
			ChannelBtnHashtag.TextSize = isMobile and 18 or 21

			ChannelBtnTitle.Name = "ChannelBtnTitle"
			ChannelBtnTitle.Parent = ChannelBtn
			ChannelBtnTitle.BackgroundTransparency = 1.000
			ChannelBtnTitle.Position = UDim2.new(0.174, 0, 0, 0)
			ChannelBtnTitle.Size = UDim2.new(0.8, 0, 1, 0)
			ChannelBtnTitle.Font = Enum.Font.Gotham
			ChannelBtnTitle.Text = text
			ChannelBtnTitle.TextColor3 = Color3.fromRGB(114, 118, 125)
			ChannelBtnTitle.TextSize = isMobile and 12 or 14
			ChannelBtnTitle.TextXAlignment = Enum.TextXAlignment.Left
			ChannelBtnTitle.TextScaled = isMobile
			
			ServerChannelHolder.CanvasSize = UDim2.new(0, 0, 0, ServerChannelHolderLayout.AbsoluteContentSize.Y)

			local ChannelHolder = Instance.new("ScrollingFrame")
			local ChannelHolderLayout = Instance.new("UIListLayout")

			ChannelHolder.Name = "ChannelHolder"
			ChannelHolder.Parent = ChannelContentFrame
			ChannelHolder.Active = true
			ChannelHolder.BackgroundTransparency = 1.000
			ChannelHolder.Position = UDim2.new(0.036, 0, 0.024, 0)
			ChannelHolder.Size = UDim2.new(0.93, 0, 0.95, 0)
			ChannelHolder.ScrollBarThickness = isMobile and 4 : 6
			ChannelHolder.CanvasSize = UDim2.new(0, 0, 0, 0)
			ChannelHolder.ScrollBarImageTransparency = isMobile and 0 or 0
			ChannelHolder.ScrollBarImageColor3 = Color3.fromRGB(18, 19, 21)
			ChannelHolder.Visible = false
			ChannelHolder.ClipsDescendants = false

			ChannelHolderLayout.Parent = ChannelHolder
			ChannelHolderLayout.SortOrder = Enum.SortOrder.LayoutOrder
			ChannelHolderLayout.Padding = UDim.new(0, 6)
			
			ChannelBtn.MouseEnter:Connect(function()
				if currentchanneltoggled ~= ChannelBtn.Name then
					ChannelBtn.BackgroundColor3 = Color3.fromRGB(52, 55, 60)
					ChannelBtnTitle.TextColor3 = Color3.fromRGB(220, 221, 222)
				end
			end)
			
			ChannelBtn.MouseLeave:Connect(function()
				if currentchanneltoggled ~= ChannelBtn.Name then
					ChannelBtn.BackgroundColor3 = Color3.fromRGB(47, 49, 54)
					ChannelBtnTitle.TextColor3 = Color3.fromRGB(114, 118, 125)
				end
			end)
			
			ChannelBtn.MouseButton1Click:Connect(function()
				for i, v in pairs(ChannelContentFrame:GetChildren()) do
					if v.Name == "ChannelHolder" then
						v.Visible = false
					end
				end
				ChannelHolder.CanvasSize = UDim2.new(0, 0, 0, ChannelHolderLayout.AbsoluteContentSize.Y)
			end
			
			function ChannelContent:Slider(text, min, max, start, callback)
				local SliderFunc = {}
				local dragging = false
				local Slider = Instance.new("TextButton")
				local SliderTitle = Instance.new("TextLabel")
				local SliderFrame = Instance.new("Frame")
				local SliderFrameCorner = Instance.new("UICorner")
				local CurrentValueFrame = Instance.new("Frame")
				local CurrentValueFrameCorner = Instance.new("UICorner")
				local Zip = Instance.new("Frame")
				local ZipCorner = Instance.new("UICorner")
				local ValueBubble = Instance.new("Frame")
				local ValueBubbleCorner = Instance.new("UICorner")
				local SquareBubble = Instance.new("Frame")
				local GlowBubble = Instance.new("ImageLabel")
				local ValueLabel = Instance.new("TextLabel")

				Slider.Name = "Slider"
				Slider.Parent = ChannelHolder
				Slider.BackgroundColor3 = Color3.fromRGB(54, 57, 63)
				Slider.Size = UDim2.new(0.97, 0, 0, isMobile and 45 or 38)
				Slider.AutoButtonColor = false
				Slider.Font = Enum.Font.Gotham
				Slider.Text = ""

				SliderTitle.Name = "SliderTitle"
				SliderTitle.Parent = Slider
				SliderTitle.BackgroundTransparency = 1.000
				SliderTitle.Position = UDim2.new(0, 5, 0, 0)
				SliderTitle.Size = UDim2.new(0.9, 0, 0, isMobile and 20 or 27)
				SliderTitle.Font = Enum.Font.Gotham
				SliderTitle.Text = text
				SliderTitle.TextColor3 = Color3.fromRGB(127, 131, 137)
				SliderTitle.TextSize = isMobile and 11 or 14
				SliderTitle.TextXAlignment = Enum.TextXAlignment.Left
				SliderTitle.TextScaled = isMobile

				SliderFrame.Name = "SliderFrame"
				SliderFrame.Parent = Slider
				SliderFrame.AnchorPoint = Vector2.new(0.5, 0.5)
				SliderFrame.BackgroundColor3 = Color3.fromRGB(79, 84, 92)
				SliderFrame.Position = UDim2.new(0.5, 0, 0.75, 0)
				SliderFrame.Size = UDim2.new(0.95, 0, 0, isMobile and 6 or 8)

				SliderFrameCorner.Parent = SliderFrame

				CurrentValueFrame.Name = "CurrentValueFrame"
				CurrentValueFrame.Parent = SliderFrame
				CurrentValueFrame.BackgroundColor3 = Color3.fromRGB(114, 137, 218)
				CurrentValueFrame.Size = UDim2.new((start or 0) / max, 0, 1, 0)

				CurrentValueFrameCorner.Parent = CurrentValueFrame

				local zipSize = isMobile and 12 or 10
				Zip.Name = "Zip"
				Zip.Parent = SliderFrame
				Zip.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
				Zip.Position = UDim2.new((start or 0) / max, -zipSize/2, -0.645, 0)
				Zip.Size = UDim2.new(0, zipSize, 0, isMobile and 20 or 18)
				
				ZipCorner.CornerRadius = UDim.new(0, 3)
				ZipCorner.Parent = Zip

				ValueBubble.Name = "ValueBubble"
				ValueBubble.Parent = Zip
				ValueBubble.AnchorPoint = Vector2.new(0.5, 0.5)
				ValueBubble.BackgroundColor3 = Color3.fromRGB(38, 38, 38)
				ValueBubble.Position = UDim2.new(0.5, 0, -1.008, 0)
				ValueBubble.Size = UDim2.new(0, isMobile and 32 or 36, 0, isMobile and 18 or 21)
				ValueBubble.Visible = false

				Zip.MouseEnter:Connect(function()
					if not dragging then
						ValueBubble.Visible = true
					end
				end)
				
				Zip.MouseLeave:Connect(function()
					if not dragging then
						ValueBubble.Visible = false
					end
				end)

				ValueBubbleCorner.CornerRadius = UDim.new(0, 3)
				ValueBubbleCorner.Parent = ValueBubble

				SquareBubble.Name = "SquareBubble"
				SquareBubble.Parent = ValueBubble
				SquareBubble.AnchorPoint = Vector2.new(0.5, 0.5)
				SquareBubble.BackgroundColor3 = Color3.fromRGB(38, 38, 38)
				SquareBubble.BorderSizePixel = 0
				SquareBubble.Position = UDim2.new(0.493, 0, 0.638, 0)
				SquareBubble.Rotation = 45
				SquareBubble.Size = UDim2.new(0, isMobile and 16 or 19, 0, isMobile and 16 or 19)

				GlowBubble.Name = "GlowBubble"
				GlowBubble.Parent = ValueBubble
				GlowBubble.BackgroundTransparency = 1.000
				GlowBubble.Position = UDim2.new(0, -15, 0, -15)
				GlowBubble.Size = UDim2.new(1, 30, 1, 30)
				GlowBubble.ZIndex = 0
				GlowBubble.Image = "rbxassetid://4996891970"
				GlowBubble.ImageColor3 = Color3.fromRGB(15, 15, 15)
				GlowBubble.ScaleType = Enum.ScaleType.Slice
				GlowBubble.SliceCenter = Rect.new(20, 20, 280, 280)

				ValueLabel.Name = "ValueLabel"
				ValueLabel.Parent = ValueBubble
				ValueLabel.BackgroundTransparency = 1.000
				ValueLabel.Size = UDim2.new(1, 0, 1, 0)
				ValueLabel.Font = Enum.Font.Gotham
				ValueLabel.Text = tostring(start and math.floor((start / max) * (max - min) + min) or 0)
				ValueLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
				ValueLabel.TextSize = isMobile and 9 or 10
				
				local function move(input)
					local pos = UDim2.new(
						math.clamp((input.Position.X - SliderFrame.AbsolutePosition.X) / SliderFrame.AbsoluteSize.X, 0, 1),
						-zipSize/2,
						-0.645,
						0
					)
					local pos1 = UDim2.new(
						math.clamp((input.Position.X - SliderFrame.AbsolutePosition.X) / SliderFrame.AbsoluteSize.X, 0, 1),
						0,
						0,
						0
					)
					CurrentValueFrame.Size = pos1
					Zip.Position = pos
					local value = math.floor(((pos.X.Scale * max) / max) * (max - min) + min)
					ValueLabel.Text = tostring(value)
					pcall(callback, value)
				end
				
				Zip.InputBegan:Connect(function(input)
					if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
						dragging = true
						ValueBubble.Visible = true
					end
				end)
				
				Zip.InputEnded:Connect(function(input)
					if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
						dragging = false
						if not isMobile then
							ValueBubble.Visible = false
						end
					end
				end)
				
				UserInputService.InputChanged:Connect(function(input)
					if dragging and (input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch) then
						move(input)
					end
				end)
				
				function SliderFunc:Change(tochange)
					CurrentValueFrame.Size = UDim2.new((tochange or 0) / max, 0, 1, 0)
					Zip.Position = UDim2.new((tochange or 0) / max, -zipSize/2, -0.645, 0)
					ValueLabel.Text = tostring(tochange and math.floor((tochange / max) * (max - min) + min) or 0)
					pcall(callback, tochange)
				end
				
				ChannelHolder.CanvasSize = UDim2.new(0, 0, 0, ChannelHolderLayout.AbsoluteContentSize.Y)
				return SliderFunc
			end
			
			function ChannelContent:Seperator()
				local Seperator1 = Instance.new("Frame")
				local Seperator2 = Instance.new("Frame")

				Seperator1.Name = "Seperator1"
				Seperator1.Parent = ChannelHolder
				Seperator1.BackgroundTransparency = 1.000
				Seperator1.Size = UDim2.new(0.97, 0, 0, 8)

				Seperator2.Name = "Seperator2"
				Seperator2.Parent = Seperator1
				Seperator2.BackgroundColor3 = Color3.fromRGB(66, 69, 74)
				Seperator2.BorderSizePixel = 0
				Seperator2.Position = UDim2.new(0, 0, 0, 4)
				Seperator2.Size = UDim2.new(1, 0, 0, 1)
				
				ChannelHolder.CanvasSize = UDim2.new(0, 0, 0, ChannelHolderLayout.AbsoluteContentSize.Y)
			end
			
			function ChannelContent:Label(text)
				local Label = Instance.new("TextButton")
				local LabelTitle = Instance.new("TextLabel")

				Label.Name = "Label"
				Label.Parent = ChannelHolder
				Label.BackgroundColor3 = Color3.fromRGB(54, 57, 63)
				Label.Size = UDim2.new(0.97, 0, 0, isMobile and 35 or 30)
				Label.AutoButtonColor = false
				Label.Font = Enum.Font.Gotham
				Label.Text = ""

				LabelTitle.Name = "LabelTitle"
				LabelTitle.Parent = Label
				LabelTitle.BackgroundTransparency = 1.000
				LabelTitle.Position = UDim2.new(0, 5, 0, 0)
				LabelTitle.Size = UDim2.new(0.95, 0, 1, 0)
				LabelTitle.Font = Enum.Font.Gotham
				LabelTitle.Text = text
				LabelTitle.TextColor3 = Color3.fromRGB(127, 131, 137)
				LabelTitle.TextSize = isMobile and 11 or 14
				LabelTitle.TextXAlignment = Enum.TextXAlignment.Left
				LabelTitle.TextWrapped = true
				LabelTitle.TextScaled = isMobile
				
				ChannelHolder.CanvasSize = UDim2.new(0, 0, 0, ChannelHolderLayout.AbsoluteContentSize.Y)
			end
			
			function ChannelContent:Textbox(text, placetext, disapper, callback)
				local Textbox = Instance.new("Frame")
				local TextboxTitle = Instance.new("TextLabel")
				local TextboxFrameOutline = Instance.new("Frame")
				local TextboxFrameOutlineCorner = Instance.new("UICorner")
				local TextboxFrame = Instance.new("Frame")
				local TextboxFrameCorner = Instance.new("UICorner")
				local TextBox = Instance.new("TextBox")

				Textbox.Name = "Textbox"
				Textbox.Parent = ChannelHolder
				Textbox.BackgroundTransparency = 1.000
				Textbox.Size = UDim2.new(0.97, 0, 0, isMobile and 70 : 73)

				TextboxTitle.Name = "TextboxTitle"
				TextboxTitle.Parent = Textbox
				TextboxTitle.BackgroundTransparency = 1.000
				TextboxTitle.Position = UDim2.new(0, 5, 0, 0)
				TextboxTitle.Size = UDim2.new(0.9, 0, 0, isMobile and 25 or 29)
				TextboxTitle.Font = Enum.Font.Gotham
				TextboxTitle.Text = text
				TextboxTitle.TextColor3 = Color3.fromRGB(127, 131, 137)
				TextboxTitle.TextSize = isMobile and 11 or 14
				TextboxTitle.TextXAlignment = Enum.TextXAlignment.Left
				TextboxTitle.TextScaled = isMobile

				TextboxFrameOutline.Name = "TextboxFrameOutline"
				TextboxFrameOutline.Parent = TextboxTitle
				TextboxFrameOutline.AnchorPoint = Vector2.new(0.5, 0.5)
				TextboxFrameOutline.BackgroundColor3 = Color3.fromRGB(37, 40, 43)
				TextboxFrameOutline.Position = UDim2.new(0.5, 0, 1.62, 0)
				TextboxFrameOutline.Size = UDim2.new(1, 10, 0, isMobile and 38 or 36)

				TextboxFrameOutlineCorner.CornerRadius = UDim.new(0, 3)
				TextboxFrameOutlineCorner.Parent = TextboxFrameOutline

				TextboxFrame.Name = "TextboxFrame"
				TextboxFrame.Parent = TextboxTitle
				TextboxFrame.BackgroundColor3 = Color3.fromRGB(48, 51, 57)
				TextboxFrame.ClipsDescendants = true
				TextboxFrame.Position = UDim2.new(0.01, 0, 1.066, 0)
				TextboxFrame.Size = UDim2.new(1, 6, 0, isMobile and 34 or 32)

				TextboxFrameCorner.CornerRadius = UDim.new(0, 3)
				TextboxFrameCorner.Parent = TextboxFrame

				TextBox.Parent = TextboxFrame
				TextBox.BackgroundTransparency = 1.000
				TextBox.Position = UDim2.new(0.018, 0, 0, 0)
				TextBox.Size = UDim2.new(0.96, 0, 1, 0)
				TextBox.Font = Enum.Font.Gotham
				TextBox.PlaceholderColor3 = Color3.fromRGB(91, 95, 101)
				TextBox.PlaceholderText = placetext
				TextBox.Text = ""
				TextBox.TextColor3 = Color3.fromRGB(193, 195, 197)
				TextBox.TextSize = isMobile and 11 or 14
				TextBox.TextXAlignment = Enum.TextXAlignment.Left
				TextBox.ClearTextOnFocus = false
				
				TextBox.Focused:Connect(function()
					TweenService:Create(TextboxFrameOutline, TweenInfo.new(.3, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {BackgroundColor3 = Color3.fromRGB(114, 137, 228)}):Play()
				end)
				
				TextBox.FocusLost:Connect(function(ep)
					TweenService:Create(TextboxFrameOutline, TweenInfo.new(.3, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {BackgroundColor3 = Color3.fromRGB(37, 40, 43)}):Play()
					if ep then
						if #TextBox.Text > 0 then
							pcall(callback, TextBox.Text)
							if disapper then
								TextBox.Text = ""
							end
						end
					end
				end)
				
				ChannelHolder.CanvasSize = UDim2.new(0, 0, 0, ChannelHolderLayout.AbsoluteContentSize.Y)
			end
			
			function ChannelContent:Bind(text, presetbind, callback)
				local Key = presetbind.Name
				local Keybind = Instance.new("TextButton")
				local KeybindTitle = Instance.new("TextLabel")
				local KeybindText = Instance.new("TextLabel")

				Keybind.Name = "Keybind"
				Keybind.Parent = ChannelHolder
				Keybind.BackgroundColor3 = Color3.fromRGB(54, 57, 63)
				Keybind.Size = UDim2.new(0.97, 0, 0, isMobile and 35 or 30)
				Keybind.AutoButtonColor = false
				Keybind.Font = Enum.Font.Gotham
				Keybind.Text = ""

				KeybindTitle.Name = "KeybindTitle"
				KeybindTitle.Parent = Keybind
				KeybindTitle.BackgroundTransparency = 1.000
				KeybindTitle.Position = UDim2.new(0, 5, 0, 0)
				KeybindTitle.Size = UDim2.new(0.55, 0, 1, 0)
				KeybindTitle.Font = Enum.Font.Gotham
				KeybindTitle.Text = text
				KeybindTitle.TextColor3 = Color3.fromRGB(127, 131, 137)
				KeybindTitle.TextSize = isMobile and 11 or 14
				KeybindTitle.TextXAlignment = Enum.TextXAlignment.Left
				KeybindTitle.TextScaled = isMobile

				KeybindText.Name = "KeybindText"
				KeybindText.Parent = Keybind
				KeybindText.BackgroundTransparency = 1.000
				KeybindText.Position = UDim2.new(0.6, 0, 0, 0)
				KeybindText.Size = UDim2.new(0.35, 0, 1, 0)
				KeybindText.Font = Enum.Font.Gotham
				KeybindText.Text = presetbind.Name
				KeybindText.TextColor3 = Color3.fromRGB(127, 131, 137)
				KeybindText.TextSize = isMobile and 10 or 14
				KeybindText.TextXAlignment = Enum.TextXAlignment.Right
				KeybindText.TextScaled = isMobile
				
				Keybind.MouseButton1Click:Connect(function()
					KeybindText.Text = "..."
					local inputwait = UserInputService.InputBegan:Wait()
					if inputwait.KeyCode.Name ~= "Unknown" then
						KeybindText.Text = inputwait.KeyCode.Name
						Key = inputwait.KeyCode.Name
					end
				end)
				
				UserInputService.InputBegan:Connect(function(current, pressed)
					if not pressed then
						if current.KeyCode.Name == Key then
							pcall(callback)
						end
					end
				end)
				
				ChannelHolder.CanvasSize = UDim2.new(0, 0, 0, ChannelHolderLayout.AbsoluteContentSize.Y)
			end
			
			-- Additional mobile-optimized UI elements can be added here
			
			return ChannelContent
		end
		
		-- GroupBox System (Obsidian-inspired)
		function ChannelHold:AddLeftGroupbox(title)
			return ChannelHold:AddGroupbox(title, "Left")
		end
		
		function ChannelHold:AddRightGroupbox(title)
			return ChannelHold:AddGroupbox(title, "Right")
		end
		
		function ChannelHold:AddGroupbox(title, side)
			local GroupboxFrame = Instance.new("Frame")
			local GroupboxTitle = Instance.new("TextLabel")
			local GroupboxCorner = Instance.new("UICorner")
			local GroupboxDivider = Instance.new("Frame")
			local GroupboxContent = Instance.new("ScrollingFrame")
			local GroupboxLayout = Instance.new("UIListLayout")
			local GroupboxPadding = Instance.new("UIPadding")
			
			local isLeft = side == "Left"
			local groupboxWidth = isMobile and 0.95 or 0.47
			
			GroupboxFrame.Name = title .. "Groupbox"
			GroupboxFrame.Parent = ChannelContentFrame
			GroupboxFrame.BackgroundColor3 = Color3.fromRGB(47, 49, 54)
			GroupboxFrame.BorderSizePixel = 0
			GroupboxFrame.Position = isLeft and UDim2.new(0.02, 0, 0.02, 0) or UDim2.new(0.51, 0, 0.02, 0)
			GroupboxFrame.Size = UDim2.new(groupboxWidth, 0, 0, 200)
			GroupboxFrame.ClipsDescendants = true
			
			GroupboxCorner.CornerRadius = UDim.new(0, 6)
			GroupboxCorner.Parent = GroupboxFrame
			
			GroupboxTitle.Name = "GroupboxTitle"
			GroupboxTitle.Parent = GroupboxFrame
			GroupboxTitle.BackgroundTransparency = 1
			GroupboxTitle.Position = UDim2.new(0, 10, 0, 5)
			GroupboxTitle.Size = UDim2.new(0.9, 0, 0, 25)
			GroupboxTitle.Font = Enum.Font.GothamSemibold
			GroupboxTitle.Text = title
			GroupboxTitle.TextColor3 = Color3.fromRGB(255, 255, 255)
			GroupboxTitle.TextSize = isMobile and 12 or 14
			GroupboxTitle.TextXAlignment = Enum.TextXAlignment.Left
			
			GroupboxDivider.Name = "Divider"
			GroupboxDivider.Parent = GroupboxFrame
			GroupboxDivider.BackgroundColor3 = Color3.fromRGB(66, 69, 74)
			GroupboxDivider.BorderSizePixel = 0
			GroupboxDivider.Position = UDim2.new(0, 10, 0, 32)
			GroupboxDivider.Size = UDim2.new(0.94, 0, 0, 1)
			
			GroupboxContent.Name = "GroupboxContent"
			GroupboxContent.Parent = GroupboxFrame
			GroupboxContent.Active = true
			GroupboxContent.BackgroundTransparency = 1
			GroupboxContent.Position = UDim2.new(0, 5, 0, 40)
			GroupboxContent.Size = UDim2.new(0.97, 0, 1, -45)
			GroupboxContent.CanvasSize = UDim2.new(0, 0, 0, 0)
			GroupboxContent.ScrollBarThickness = isMobile and 3 or 4
			GroupboxContent.ScrollBarImageColor3 = Color3.fromRGB(18, 19, 21)
			GroupboxContent.ScrollBarImageTransparency = isMobile and 0 or 1
			
			if not isMobile then
				GroupboxContent.MouseEnter:Connect(function()
					GroupboxContent.ScrollBarImageTransparency = 0
				end)
				GroupboxContent.MouseLeave:Connect(function()
					GroupboxContent.ScrollBarImageTransparency = 1
				end)
			end
			
			GroupboxLayout.Parent = GroupboxContent
			GroupboxLayout.SortOrder = Enum.SortOrder.LayoutOrder
			GroupboxLayout.Padding = UDim.new(0, 5)
			
			GroupboxPadding.Parent = GroupboxContent
			GroupboxPadding.PaddingLeft = UDim.new(0, 5)
			GroupboxPadding.PaddingRight = UDim.new(0, 5)
			
			-- Auto-resize groupbox based on content
			GroupboxLayout:GetPropertyChangedSignal("AbsoluteContentSize"):Connect(function()
				GroupboxContent.CanvasSize = UDim2.new(0, 0, 0, GroupboxLayout.AbsoluteContentSize.Y + 10)
				local newHeight = math.min(GroupboxLayout.AbsoluteContentSize.Y + 50, isMobile and 300 or 400)
				GroupboxFrame.Size = UDim2.new(groupboxWidth, 0, 0, newHeight)
			end)
			
			-- Groupbox can use same channel content functions
			local GroupboxContent = {}
			for name, func in pairs(ChannelContent) do
				GroupboxContent[name] = function(self, ...)
					local result = func(GroupboxContent, ...)
					if result and result.Parent then
						result.Parent = GroupboxContent
					end
					return result
				end
			end
			
			return GroupboxContent
		end
		
		-- TabBox System (Obsidian-inspired)
		function ChannelHold:AddLeftTabbox(title)
			return ChannelHold:AddTabbox(title, "Left")
		end
		
		function ChannelHold:AddRightTabbox(title)
			return ChannelHold:AddTabbox(title, "Right")
		end
		
		function ChannelHold:AddTabbox(title, side)
			local TabboxFrame = Instance.new("Frame")
			local TabboxCorner = Instance.new("UICorner")
			local TabboxTitle = Instance.new("TextLabel")
			local TabboxDivider = Instance.new("Frame")
			local TabContainer = Instance.new("Frame")
			local TabLayout = Instance.new("UIListLayout")
			local TabContentFrame = Instance.new("Frame")
			
			local isLeft = side == "Left"
			local tabboxWidth = isMobile and 0.95 or 0.47
			
			TabboxFrame.Name = title .. "Tabbox"
			TabboxFrame.Parent = ChannelContentFrame
			TabboxFrame.BackgroundColor3 = Color3.fromRGB(47, 49, 54)
			TabboxFrame.BorderSizePixel = 0
			TabboxFrame.Position = isLeft and UDim2.new(0.02, 0, 0.02, 0) or UDim2.new(0.51, 0, 0.02, 0)
			TabboxFrame.Size = UDim2.new(tabboxWidth, 0, 0, 250)
			TabboxFrame.ClipsDescendants = true
			
			TabboxCorner.CornerRadius = UDim.new(0, 6)
			TabboxCorner.Parent = TabboxFrame
			
			TabboxTitle.Name = "TabboxTitle"
			TabboxTitle.Parent = TabboxFrame
			TabboxTitle.BackgroundTransparency = 1
			TabboxTitle.Position = UDim2.new(0, 10, 0, 5)
			TabboxTitle.Size = UDim2.new(0.9, 0, 0, 25)
			TabboxTitle.Font = Enum.Font.GothamSemibold
			TabboxTitle.Text = title
			TabboxTitle.TextColor3 = Color3.fromRGB(255, 255, 255)
			TabboxTitle.TextSize = isMobile and 12 or 14
			TabboxTitle.TextXAlignment = Enum.TextXAlignment.Left
			
			TabboxDivider.Name = "Divider"
			TabboxDivider.Parent = TabboxFrame
			TabboxDivider.BackgroundColor3 = Color3.fromRGB(66, 69, 74)
			TabboxDivider.BorderSizePixel = 0
			TabboxDivider.Position = UDim2.new(0, 10, 0, 32)
			TabboxDivider.Size = UDim2.new(0.94, 0, 0, 1)
			
			TabContainer.Name = "TabContainer"
			TabContainer.Parent = TabboxFrame
			TabContainer.BackgroundTransparency = 1
			TabContainer.Position = UDim2.new(0, 5, 0, 40)
			TabContainer.Size = UDim2.new(0.97, 0, 0, 30)
			
			TabLayout.Parent = TabContainer
			TabLayout.FillDirection = Enum.FillDirection.Horizontal
			TabLayout.SortOrder = Enum.SortOrder.LayoutOrder
			TabLayout.Padding = UDim.new(0, 3)
			
			TabContentFrame.Name = "TabContentFrame"
			TabContentFrame.Parent = TabboxFrame
			TabContentFrame.BackgroundTransparency = 1
			TabContentFrame.Position = UDim2.new(0, 5, 0, 75)
			TabContentFrame.Size = UDim2.new(0.97, 0, 1, -80)
			
			local TabboxFunc = {}
			local currentTab = nil
			local tabCount = 0
			
			function TabboxFunc:AddTab(name)
				tabCount = tabCount + 1
				local isFirst = tabCount == 1
				
				local TabButton = Instance.new("TextButton")
				local TabButtonCorner = Instance.new("UICorner")
				
				TabButton.Name = name .. "Tab"
				TabButton.Parent = TabContainer
				TabButton.BackgroundColor3 = isFirst and Color3.fromRGB(57, 60, 67) or Color3.fromRGB(47, 49, 54)
				TabButton.Size = UDim2.new(0, isMobile and 70 or 80, 1, 0)
				TabButton.AutoButtonColor = false
				TabButton.Font = Enum.Font.Gotham
				TabButton.Text = name
				TabButton.TextColor3 = isFirst and Color3.fromRGB(255, 255, 255) or Color3.fromRGB(127, 131, 137)
				TabButton.TextSize = isMobile and 10 or 12
				TabButton.TextScaled = isMobile
				
				TabButtonCorner.CornerRadius = UDim.new(0, 4)
				TabButtonCorner.Parent = TabButton
				
				local TabContent = Instance.new("ScrollingFrame")
				local TabContentLayout = Instance.new("UIListLayout")
				local TabContentPadding = Instance.new("UIPadding")
				
				TabContent.Name = name .. "Content"
				TabContent.Parent = TabContentFrame
				TabContent.Active = true
				TabContent.BackgroundTransparency = 1
				TabContent.Size = UDim2.new(1, 0, 1, 0)
				TabContent.CanvasSize = UDim2.new(0, 0, 0, 0)
				TabContent.ScrollBarThickness = isMobile and 3 or 4
				TabContent.ScrollBarImageColor3 = Color3.fromRGB(18, 19, 21)
				TabContent.ScrollBarImageTransparency = isMobile and 0 or 1
				TabContent.Visible = isFirst
				
				TabContentLayout.Parent = TabContent
				TabContentLayout.SortOrder = Enum.SortOrder.LayoutOrder
				TabContentLayout.Padding = UDim.new(0, 5)
				
				TabContentPadding.Parent = TabContent
				TabContentPadding.PaddingLeft = UDim.new(0, 5)
				
				if not isMobile then
					TabContent.MouseEnter:Connect(function()
						TabContent.ScrollBarImageTransparency = 0
					end)
					TabContent.MouseLeave:Connect(function()
						TabContent.ScrollBarImageTransparency = 1
					end)
				end
				
				TabContentLayout:GetPropertyChangedSignal("AbsoluteContentSize"):Connect(function()
					TabContent.CanvasSize = UDim2.new(0, 0, 0, TabContentLayout.AbsoluteContentSize.Y + 10)
				end)
				
				if isFirst then
					currentTab = TabButton
				end
				
				TabButton.MouseButton1Click:Connect(function()
					for _, v in pairs(TabContainer:GetChildren()) do
						if v:IsA("TextButton") then
							v.BackgroundColor3 = Color3.fromRGB(47, 49, 54)
							v.TextColor3 = Color3.fromRGB(127, 131, 137)
						end
					end
					for _, v in pairs(TabContentFrame:GetChildren()) do
						if v:IsA("ScrollingFrame") then
							v.Visible = false
						end
					end
					TabButton.BackgroundColor3 = Color3.fromRGB(57, 60, 67)
					TabButton.TextColor3 = Color3.fromRGB(255, 255, 255)
					TabContent.Visible = true
					currentTab = TabButton
				end)
				
				TabButton.MouseEnter:Connect(function()
					if currentTab ~= TabButton then
						TabButton.BackgroundColor3 = Color3.fromRGB(52, 55, 60)
					end
				end)
				
				TabButton.MouseLeave:Connect(function()
					if currentTab ~= TabButton then
						TabButton.BackgroundColor3 = Color3.fromRGB(47, 49, 54)
					end
				end)
				
				-- Tab can use channel content functions
				local TabContentFuncs = {}
				for funcName, func in pairs(ChannelContent) do
					TabContentFuncs[funcName] = function(self, ...)
						return func({ Parent = TabContent }, ...)
					end
				end
				
				return TabContentFuncs
			end
			
			return TabboxFunc
		end
		
		-- Add Channel function to ServerFunc
		ServerFunc.Channel = ChannelHold.Channel
		
		return ServerFunc
	end
	return ServerHold
end

-- Theme Management API
function DiscordLib:SetTheme(themeName)
	if ThemeManager:SetTheme(themeName) then
		-- Theme will be applied on next window creation
		return true
	end
	return false
end

function DiscordLib:CreateTheme(name, themeData)
	ThemeManager:CreateTheme(name, themeData)
end

function DiscordLib:GetThemes()
	local themes = {}
	for name, _ in pairs(ThemeManager.Themes) do
		table.insert(themes, name)
	end
	return themes
end

function DiscordLib:GetCurrentTheme()
	return ThemeManager.CurrentTheme
end

-- Configuration System
local ConfigManager = {}

function ConfigManager:SaveConfig(configName, data)
	local success, err = pcall(function()
		local jsonData = HttpService:JSONEncode(data)
		writefile("DiscordLib_Configs/" .. configName .. ".json", jsonData)
	end)
	return success
end

function ConfigManager:LoadConfig(configName)
	local success, result = pcall(function()
		local jsonData = readfile("DiscordLib_Configs/" .. configName .. ".json")
		return HttpService:JSONDecode(jsonData)
	end)
	if success then
		return result
	end
	return nil
end

function ConfigManager:ListConfigs()
	local configs = {}
	local success, result = pcall(function()
		return listfiles("DiscordLib_Configs")
	end)
	if success then
		for _, file in pairs(result) do
			local name = file:match("([^/\\]+)%.json$")
			if name then
				table.insert(configs, name)
			end
		end
	end
	return configs
end

function ConfigManager:DeleteConfig(configName)
	local success = pcall(function()
		delfile("DiscordLib_Configs/" .. configName .. ".json")
	end)
	return success
end

-- Add config management to DiscordLib
function DiscordLib:SaveConfig(name, data)
	return ConfigManager:SaveConfig(name, data)
end

function DiscordLib:LoadConfig(name)
	return ConfigManager:LoadConfig(name)
end

function DiscordLib:ListConfigs()
	return ConfigManager:ListConfigs()
end

function DiscordLib:DeleteConfig(name)
	return ConfigManager:DeleteConfig(name)
end

-- Font Management
function DiscordLib:SetFont(font, boldFont, blackFont)
	local theme = ThemeManager:GetTheme()
	theme.Font = font or Enum.Font.Gotham
	theme.BoldFont = boldFont or Enum.Font.GothamSemibold
	theme.BlackFont = blackFont or Enum.Font.GothamBlack
end

-- Utility Functions
function DiscordLib:ProcessImageURL(url)
	return ProcessAssetURL(url)
end

return DiscordLib.Visible = true
				
				for i, v in pairs(ServerChannelHolder:GetChildren()) do
					if v:IsA("TextButton") then
						v.BackgroundColor3 = Color3.fromRGB(47, 49, 54)
						v.ChannelBtnTitle.TextColor3 = Color3.fromRGB(114, 118, 125)
					end
				end
				ChannelTitle.Text = text
				ChannelBtn.BackgroundColor3 = Color3.fromRGB(57, 60, 67)
				ChannelBtnTitle.TextColor3 = Color3.fromRGB(255, 255, 255)
				currentchanneltoggled = ChannelBtn.Name
			end)
			
			if fc == false then
				fc = true
				ChannelTitle.Text = text
				ChannelBtn.BackgroundColor3 = Color3.fromRGB(57, 60, 67)
				ChannelBtnTitle.TextColor3 = Color3.fromRGB(255, 255, 255)
				currentchanneltoggled = ChannelBtn.Name
				ChannelHolder.Visible = true
			end
			
			local ChannelContent = {}
			
			function ChannelContent:Button(text, callback)
				local Button = Instance.new("TextButton")
				local ButtonCorner = Instance.new("UICorner")

				Button.Name = "Button"
				Button.Parent = ChannelHolder
				Button.BackgroundColor3 = Color3.fromRGB(114, 137, 228)
				Button.Size = UDim2.new(0.97, 0, 0, isMobile and 35 or 30)
				Button.AutoButtonColor = false
				Button.Font = Enum.Font.Gotham
				Button.TextColor3 = Color3.fromRGB(255, 255, 255)
				Button.TextSize = isMobile and 12 or 14
				Button.Text = text
				Button.TextScaled = isMobile

				ButtonCorner.CornerRadius = UDim.new(0, 4)
				ButtonCorner.Parent = Button
				
				Button.MouseEnter:Connect(function()
					TweenService:Create(Button, TweenInfo.new(.2, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {BackgroundColor3 = Color3.fromRGB(103, 123, 196)}):Play()
				end)
				
				Button.MouseButton1Click:Connect(function()
					pcall(callback)
					Button.TextSize = 0
					TweenService:Create(Button, TweenInfo.new(.2, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {TextSize = isMobile and 12 or 14}):Play()
				end)
				
				Button.MouseLeave:Connect(function()
					TweenService:Create(Button, TweenInfo.new(.2, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {BackgroundColor3 = Color3.fromRGB(114, 137, 228)}):Play()
				end)
				
				ChannelHolder.CanvasSize = UDim2.new(0, 0, 0, ChannelHolderLayout.AbsoluteContentSize.Y)
			end
			
			function ChannelContent:Toggle(text, default, callback)
				local toggled = default or false
				local Toggle = Instance.new("TextButton")
				local ToggleTitle = Instance.new("TextLabel")
				local ToggleFrame = Instance.new("Frame")
				local ToggleFrameCorner = Instance.new("UICorner")
				local ToggleFrameCircle = Instance.new("Frame")
				local ToggleFrameCircleCorner = Instance.new("UICorner")
				local Icon = Instance.new("ImageLabel")

				Toggle.Name = "Toggle"
				Toggle.Parent = ChannelHolder
				Toggle.BackgroundColor3 = Color3.fromRGB(54, 57, 63)
				Toggle.Size = UDim2.new(0.97, 0, 0, isMobile and 35 or 30)
				Toggle.AutoButtonColor = false
				Toggle.Font = Enum.Font.Gotham
				Toggle.Text = ""

				ToggleTitle.Name = "ToggleTitle"
				ToggleTitle.Parent = Toggle
				ToggleTitle.BackgroundTransparency = 1.000
				ToggleTitle.Position = UDim2.new(0, 5, 0, 0)
				ToggleTitle.Size = UDim2.new(0.65, 0, 1, 0)
				ToggleTitle.Font = Enum.Font.Gotham
				ToggleTitle.Text = text
				ToggleTitle.TextColor3 = Color3.fromRGB(127, 131, 137)
				ToggleTitle.TextSize = isMobile and 11 or 14
				ToggleTitle.TextXAlignment = Enum.TextXAlignment.Left
				ToggleTitle.TextScaled = isMobile

				ToggleFrame.Name = "ToggleFrame"
				ToggleFrame.Parent = Toggle
				ToggleFrame.BackgroundColor3 = toggled and Color3.fromRGB(67, 181, 129) or Color3.fromRGB(114, 118, 125)
				ToggleFrame.Position = UDim2.new(0.85, 0, 0.2, 0)
				ToggleFrame.Size = UDim2.new(0, isMobile and 35 or 40, 0, isMobile and 18 or 21)

				ToggleFrameCorner.CornerRadius = UDim.new(1, 8)
				ToggleFrameCorner.Parent = ToggleFrame

				ToggleFrameCircle.Name = "ToggleFrameCircle"
				ToggleFrameCircle.Parent = ToggleFrame
				ToggleFrameCircle.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
				ToggleFrameCircle.Position = toggled and UDim2.new(0.655, -5, 0.133, 0) or UDim2.new(0.235, -5, 0.133, 0)
				ToggleFrameCircle.Size = UDim2.new(0, isMobile and 13 or 15, 0, isMobile and 13 or 15)

				ToggleFrameCircleCorner.CornerRadius = UDim.new(1, 0)
				ToggleFrameCircleCorner.Parent = ToggleFrameCircle

				Icon.Name = "Icon"
				Icon.Parent = ToggleFrameCircle
				Icon.AnchorPoint = Vector2.new(0.5, 0.5)
				Icon.BackgroundTransparency = 1.000
				Icon.Position = UDim2.new(0.5, 0, 0.5, 0)
				Icon.Size = UDim2.new(0, isMobile and 11 or 13, 0, isMobile and 11 or 13)
				Icon.Image = toggled and "http://www.roblox.com/asset/?id=6023426926" or "http://www.roblox.com/asset/?id=6035047409"
				Icon.ImageColor3 = toggled and Color3.fromRGB(67, 181, 129) or Color3.fromRGB(114, 118, 125)
				Icon.ImageTransparency = toggled and 0 or 0
				
				Toggle.MouseButton1Click:Connect(function()
					toggled = not toggled
					if toggled then
						TweenService:Create(Icon, TweenInfo.new(.2, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {ImageColor3 = Color3.fromRGB(67, 181, 129)}):Play()
						TweenService:Create(ToggleFrame, TweenInfo.new(.2, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {BackgroundColor3 = Color3.fromRGB(67, 181, 129)}):Play()
						ToggleFrameCircle:TweenPosition(UDim2.new(0.655, -5, 0.133, 0), Enum.EasingDirection.Out, Enum.EasingStyle.Quart, .3, true)
						TweenService:Create(Icon, TweenInfo.new(.3, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {ImageTransparency = 1}):Play()
						Icon.Image = "http://www.roblox.com/asset/?id=6023426926"
						wait(.1)
						TweenService:Create(Icon, TweenInfo.new(.3, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {ImageTransparency = 0}):Play()
					else
						TweenService:Create(Icon, TweenInfo.new(.2, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {ImageColor3 = Color3.fromRGB(114, 118, 125)}):Play()
						TweenService:Create(ToggleFrame, TweenInfo.new(.2, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {BackgroundColor3 = Color3.fromRGB(114, 118, 125)}):Play()
						ToggleFrameCircle:TweenPosition(UDim2.new(0.235, -5, 0.133, 0), Enum.EasingDirection.Out, Enum.EasingStyle.Quart, .3, true)
						TweenService:Create(Icon, TweenInfo.new(.3, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {ImageTransparency = 1}):Play()
						Icon.Image = "http://www.roblox.com/asset/?id=6035047409"
						wait(.1)
						TweenService:Create(Icon, TweenInfo.new(.3, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {ImageTransparency = 0}):Play()
					end
					pcall(callback, toggled)
				end)
				
				ChannelHolder